<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kuiz Akaun Tingkatan 5</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #e9ecef;
            margin: 0;
            padding: 0;
        }

        .quiz-container {
            width: 80%;
            max-width: 800px;
            margin: 40px auto;
            background-color: #ffffff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        h2 {
            text-align: center;
            color: #333;
        }

        .question {
            font-size: 1.5em;
            margin-bottom: 20px;
            color: #007bff;
        }

        .options {
            list-style-type: none;
            padding: 0;
        }

        .options li {
            background-color: #f8f9fa;
            margin: 10px 0;
            padding: 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.3s;
        }

        .options li:hover {
            background-color: #e2e6ea;
            transform: scale(1.05);
        }

        .options li.selected {
            background-color: #28a745;
            color: white;
        }

        .btn {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 12px 25px;
            margin-top: 20px;
            cursor: pointer;
            border-radius: 5px;
            font-size: 1em;
            transition: background-color 0.3s;
        }

        .btn:hover {
            background-color: #0056b3;
        }

        .result {
            font-size: 1.5em;
            margin-top: 20px;
            text-align: center;
            color: #333;
            background-color: #d4edda;
            padding-top: 15px;
            padding-bottom: 15px;
            border-radius: 5px;
            border: 1px solid #c3e6cb;
            display: inline-block;
            width: 100%;
        }

        .incorrect-answers {
            margin-top: 20px;
            font-size: 1em;
            color: #dc3545;
            background-color: #f8d7da;
            padding: 15px;
            border-radius: 5px;
            border: 1px solid #f5c6cb;
        }

        .incorrect-answers h3 {
            margin-top: 0;
        }

        .settings-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 10px;
            font-size: 16px;
            cursor: pointer;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        .settings-btn:hover {
            background-color: #0056b3;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: none;
            z-index: 1;
        }

        .popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #ffffff;
            padding: 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            display: none;
            z-index: 2;
            border-radius: 8px;
            width: 300px;
            cursor: move;
        }

        .popup h3 {
            text-align: center;
            color: #007bff;
        }

        .popup select, .popup input[type="file"] {
            padding: 5px;
            margin: 10px 0;
            width: 100%;
            border: 1px solid #ced4da;
            border-radius: 5px;
        }

        .popup button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px;
            margin-top: 10px;
            cursor: pointer;
            border-radius: 5px;
            transition: background-color 0.3s;
            width: 100%;
        }

        .popup button:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>
    <button class="settings-btn" onclick="openSettings()">⚙ Setting</button>

    <div class="overlay" id="overlay"></div>
    <div class="popup" id="settingsPopup" onmousedown="startDrag(event)">
        <h3>Setting</h3>
        <label for="fontSize">Saiz Font:</label>
        <select id="fontSize">
            <option value="10px">Kecil</option>
            <option value="18px" selected>Sederhana</option>
            <option value="30px">Besar</option>
        </select>

        <label for="bgMusic">Pilih Lagu MP3:</label>
        <input type="file" id="bgMusic" accept="audio/mp3" onchange="changeBackgroundMusic(event)">
        <p style="color: red;">Lagu ini masih dalam pemantauan</p>

        <button onclick="applySettings()">Simpan</button>
        <button onclick="closeSettings()">Tutup</button>
    </div>

    <div class="quiz-container">
        <h2>Kuiz Akaun Tingkatan 5</h2>
        <div id="quiz"></div>
        <button class="btn" id="nextBtn" onclick="nextQuestion()">Soalan Seterusnya</button>
        <div class="result" id="result"></div>
        <div class="incorrect-answers" id="incorrectAnswers"></div>
    </div>

    <script>
        const questions = [
        {
                question: "Apakah definisi perakaunan?",
                options: ["Perakaunan ialah proses merekod, mengelas, meringkaskan, melapor, dan menganalisis maklumat kewangan sesuatu entiti untuk tujuan membuat keputusan ekonomi", "Merekod belanja operasi", "Merekod pendapatan bukan operasi", "Merekod liabiliti"],
                answer: 0
            },
            {
                question: "Apakah tujuan utama penyediaan penyata kewangan?​",
                options: ["Tujuan utama penyediaan penyata kewangan adalah untuk memberikan maklumat kewangan yang relevan dan boleh dipercayai kepada pengguna seperti pemilik, pelabur, dan pihak berkuasa untuk membuat keputusan ekonomi.", "Menyimpan rekod akaun sahaja", "Membantu dalam penyimpanan stok", "Merekod perbelanjaan harian"],
                answer: 0
            },
            {
                question: "Senaraikan tiga pengguna utama penyata kewangan dan jelaskan keperluan mereka.",
                options: ["•Pelabur: Memerlukan maklumat untuk menilai prestasi syarikat dan potensi pulangan pelaburan.•Pemiutang: Memerlukan maklumat untuk menilai kebolehan syarikat membayar balik hutang.•Pengurusan: Memerlukan maklumat untuk membuat keputusan operasi dan strategik.", "Pelabur: Memerlukan maklumat tentang akaun semasa syarikat", "Pengurusan: Memerlukan maklumat tentang bil dan hutang", "Pemiutang: Memerlukan maklumat untuk menilai keuntungan syarikat"],
                answer: 0
            },
            {
                question: "Apakah konsep perakaunan yang memastikan transaksi dicatatkan pada nilai asal tanpa mengira nilai semasa?",
                options: ["Konsep perakaunan yang dimaksudkan adalah Prinsip Kos, yang menyatakan bahawa aset harus dicatatkan pada kos perolehan asal.", "Konsep kos berterusan", "Konsep perakaunan keuntungan", "Konsep penilaian pasaran"],
                answer: 0
            },
            {
                question: "Apakah maksud konsep 'usaha berterusan' dalam perakaunan?",
                options: ["Konsep 'usaha berterusan' (going concern) menganggap bahawa entiti perniagaan akan terus beroperasi untuk tempoh yang tidak terhad, melainkan terdapat bukti yang menunjukkan sebaliknya.", "Perniagaan boleh tutup dalam tempoh setahun", "Perniagaan hanya boleh beroperasi untuk satu tahun", "Perniagaan akan digabungkan dengan syarikat lain"],
                answer: 0
            },
            {
                question: "Bagaimanakah konsep 'entiti berasingan' mempengaruhi penyediaan penyata kewangan?",
                options: ["Konsep 'entiti berasingan' memisahkan kewangan peribadi pemilik daripada kewangan perniagaan, memastikan bahawa transaksi peribadi tidak dicampur adukkan dengan transaksi perniagaan dalam penyata kewangan.", "Kewangan perniagaan dan peribadi digabungkan", "Perniagaan boleh menggunakan wang peribadi untuk perbelanjaan syarikat", "Perbelanjaan perniagaan boleh dimasukkan ke dalam akaun peribadi"],
                answer: 0
            },
            {
                question: "Apakah perbezaan antara aset lancar dan aset tidak lancar?",
                options: ["Aset lancar adalah aset yang dijangka akan ditukar menjadi tunai, dijual, atau digunakan dalam operasi perniagaan dalam tempoh satu tahun, seperti tunai, inventori, dan akaun belum terima. Aset tidak lancar adalah aset yang tidak dijangka akan ditukar menjadi tunai atau digunakan dalam tempoh satu tahun, seperti hartanah, kilang, dan peralatan.", "Aset lancar hanya merujuk kepada tunai dan akaun belum terima", "Aset tidak lancar adalah aset yang boleh dijual dalam tempoh satu tahun", "Aset lancar adalah aset yang tidak memerlukan penilaian"],
                answer: 0
            },
            {
                question: "Apakah maksud 'liabiliti' dalam perakaunan?",
                options: ["'Liabiliti' merujuk kepada tanggungjawab kewangan atau hutang yang perlu dibayar oleh perniagaan kepada pihak luar, seperti akaun belum bayar, pinjaman, dan obligasi kewangan lain.", "Liabiliti adalah keuntungan bersih perniagaan", "Liabiliti adalah aset yang belum diterima", "Liabiliti adalah keuntungan yang belum dituntut"],
                answer: 0
            },
            {
                question: "Jelaskan perbezaan antara pendapatan dan hasil dalam perakaunan.",
                options: ["Pendapatan merujuk kepada aliran masuk ekonomi yang diterima oleh perniagaan daripada aktiviti utamanya, seperti jualan barang atau perkhidmatan. Hasil merujuk kepada jumlah wang yang diterima daripada penjualan barang atau perkhidmatan sebelum ditolak kos atau perbelanjaan.", "Pendapatan adalah jumlah wang yang diterima selepas potongan kos", "Hasil adalah jumlah wang selepas cukai", "Pendapatan hanya merujuk kepada keuntungan semata-mata"],
                answer: 0
            },
            {
                question: "Apakah peranan 'imbangan duga' dalam proses perakaunan?",
                options: ["Imbangan duga adalah senarai semua baki akaun dalam lejar pada suatu tarikh tertentu. Ia digunakan untuk memastikan bahawa jumlah debit adalah sama dengan jumlah kredit, menandakan bahawa rekod perakaunan adalah seimbang dan bebas daripada kesilapan matematik.", "Imbangan duga adalah laporan kewangan tahunan", "Imbangan duga digunakan untuk memeriksa keuntungan syarikat", "Imbangan duga digunakan untuk menilai aliran tunai syarikat"],
                answer: 0
            },
            {
                question: "Apakah formula untuk mengira Nisbah Semasa?",
                options: ["Nisbah Semasa = Aset Semasa / Liabiliti Semasa", "Nisbah Semasa = Liabiliti Semasa / Aset Semasa", "Nisbah Semasa = Aset Tidak Lancar / Liabiliti Semasa", "Nisbah Semasa = Liabiliti Tidak Lancar / Aset Semasa"],
                answer: 0
            },
            {
                question: "Apakah formula untuk mengira Nisbah Ujian Asid?",
                options: ["Nisbah Ujian Asid = (Aset Semasa - Inventori) / Liabiliti Semasa", "Nisbah Ujian Asid = Aset Semasa / Liabiliti Semasa", "Nisbah Ujian Asid = Aset Semasa / (Inventori + Liabiliti Semasa)", "Nisbah Ujian Asid = Liabiliti Semasa / Aset Semasa"],
                answer: 0
            },
            {
                question: "Apakah formula untuk mengira Kadar Pusing Ganti Inventori?",
                options: ["Kadar Pusing Ganti Inventori = Kos Jualan / Inventori Purata", "Kadar Pusing Ganti Inventori = Inventori Purata / Kos Jualan", "Kadar Pusing Ganti Inventori = Kos Jualan / Aset Semasa", "Kadar Pusing Ganti Inventori = Aset Semasa / Kos Jualan"],
                answer: 0
            },
            {
                question: "Apakah formula untuk mengira Margin Untung Kasar?",
                options: ["Margin Untung Kasar = (Untung Kasar / Jualan) × 100%", "Margin Untung Kasar = Jualan / Untung Kasar", "Margin Untung Kasar = (Jualan / Untung Kasar) × 100%", "Margin Untung Kasar = (Kos Jualan / Jualan) × 100%"],
                answer: 0
            },
            {
                question: "Apakah formula untuk mengira Pulangan Atas Modal (ROCE)?",
                options: ["ROCE = (Untung Sebelum Cukai / Modal Terlibat) × 100%", "ROCE = (Modal Terlibat / Untung Sebelum Cukai) × 100%", "ROCE = Untung Bersih / Modal Terlibat", "ROCE = Untung Sebelum Cukai / Jualan"],
                answer: 0
            },
            {
                question: "Apakah formula untuk mengira Tempoh Pembayaran Hutang?",
                options: ["Tempoh Pembayaran Hutang = (Akaun Belum Bayar / Belian Harian) × 365", "Tempoh Pembayaran Hutang = Belian Harian / Akaun Belum Bayar", "Tempoh Pembayaran Hutang = (Belian Harian / Akaun Belum Bayar) × 365", "Tempoh Pembayaran Hutang = Akaun Belum Bayar / Belian Tahunan"],
                answer: 0
            }
        ];

        let currentQuestionIndex = 0;
        let userAnswers = [];
        let audio = new Audio();

        // Fungsi untuk mengacak pilihan jawapan
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]]; // Tukar elemen
            }
        }

        // Mengubah suai loadQuestion untuk menggunakan fungsi pengacakan
        function loadQuestion(index) {
            const quizDiv = document.getElementById("quiz");
            quizDiv.innerHTML = "";
            const q = questions[index];

            // Mengacak pilihan jawapan
            const shuffledOptions = [...q.options];
            shuffleArray(shuffledOptions);

            let questionHTML = `<div class="question">${q.question}</div><ul class="options">`;
            shuffledOptions.forEach((option, i) => {
                questionHTML += `<li onclick="selectAnswer(${i}, ${shuffledOptions.indexOf(option)})">${option}</li>`;
            });
            questionHTML += `</ul>`;
            quizDiv.innerHTML = questionHTML;

            const nextBtn = document.getElementById("nextBtn");
            if (index === questions.length - 1) {
                nextBtn.textContent = "Semak Jawapan";
                nextBtn.setAttribute("onclick", "checkAnswers()");
            } else {
                nextBtn.textContent = "Soalan Seterusnya";
                nextBtn.setAttribute("onclick", "nextQuestion()");
            }
        }

        // Mengubah suai selectAnswer untuk menangani pengacakan
        function selectAnswer(optionIndex, originalIndex) {
            userAnswers[currentQuestionIndex] = originalIndex;
            const options = document.querySelectorAll(".options li");
            options.forEach(option => option.classList.remove("selected"));
            options[optionIndex].classList.add("selected");
        }

        function nextQuestion() {
            if (userAnswers[currentQuestionIndex] === undefined) {
                alert("Sila pilih jawapan terlebih dahulu!");
                return;
            }

            currentQuestionIndex++;
            if (currentQuestionIndex < questions.length) {
                loadQuestion(currentQuestionIndex);
            } else {
                showResult();
            }
        }

        function checkAnswers() {
            showResult();
        }

        function showResult() {
            document.getElementById("quiz").style.display = 'none';
            document.getElementById("nextBtn").style.display = 'none';

            let score = 0;
            let incorrectAnswersHTML = "";
            questions.forEach((q, index) => {
                if (userAnswers[index] === q.answer) {
                    score++;
                } else {
                    incorrectAnswersHTML += `<p><strong>Soalan ${index + 1}:</strong> <strong>${q.question}</strong><br>Jawapan yang betul: ${q.options[q.answer]}<br>Jawapan anda: ${q.options[userAnswers[index]]}</p>`;
                }
            });

            const resultDiv = document.getElementById("result");
            resultDiv.textContent = `Skor anda: ${score} / ${questions.length}`;

            const incorrectDiv = document.getElementById("incorrectAnswers");
            incorrectDiv.innerHTML = incorrectAnswersHTML;
        }

        // Tetapan Popup
        function openSettings() {
            document.getElementById('overlay').style.display = 'block';
            document.getElementById('settingsPopup').style.display = 'block';
        }

        function closeSettings() {
            document.getElementById('overlay').style.display = 'none';
            document.getElementById('settingsPopup').style.display = 'none';
        }

        function applySettings() {
            const fontSize = document.getElementById('fontSize').value;
            document.querySelectorAll('.question, .options li').forEach(el => {
                el.style.fontSize = fontSize;
            });

            const bgMusicInput = document.getElementById('bgMusic');
            if (bgMusicInput.files.length > 0) {
                audio.src = URL.createObjectURL(bgMusicInput.files[0]);
                audio.play();
            }

            closeSettings();
        }

        // Menyediakan tetapan awal
        loadQuestion(currentQuestionIndex);
    </script>
</body>
</html>
